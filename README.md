**Read in other languages: [Русский](README.md), [Polska](README.pl.md).**

# React homework template

Этот проект был создан при помощи
[Create React App](https://github.com/facebook/create-react-app). Для знакомства
и настройки дополнительных возможностей
[обратись к документации](https://facebook.github.io/create-react-app/docs/getting-started).

## Подготовка нового проекта

1. Убедись что на компьютере установлена LTS-версия Node.js.
   [Скачай и установи](https://nodejs.org/en/) её если необходимо.
2. Склонируй этот репозиторий.
3. Измени имя папки с `react-homework-template` на имя своего проекта.
4. Создай новый пустой репозиторий на GitHub.
5. Открой проект в VSCode, запусти терминал и свяжи проект с GitHub-репозиторием
   [по инструкции](https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url).
6. Установи базовые зависимости проекта командой `npm install`.
7. Запусти режим разработки, выполнив команду `npm start`.
8. Перейди в браузере по адресу [http://localhost:3000](http://localhost:3000).
   Эта страница будет автоматически перезагружаться после сохранения изменений в
   файлах проекта.

## Деплой

Для настройки деплоя проекта необходимо выполнить несколько дополнительных шагов
по настройке твоего репозитория. Зайди во вкладку `Settings` и в подсекции
`Actions` выбери выбери пункт `General`.

![GitHub actions settings](./assets/actions-config-step-1.png)

Пролистай страницу до последней секции, в которой выбери опции как на следующем
изображении и нажми `Save`. Без этих настроек у сборки будет недостаточно прав
для автоматизации процесса деплоя.

![GitHub actions settings](./assets/actions-config-step-2.png)

Продакшн версия проекта будет автоматически проходить линтинг, собираться и
деплоиться на GitHub Pages, в ветку `gh-pages`, каждый раз когда обновляется
ветка `main`. Например, после прямого пуша или принятого пул-реквеста. Для этого
необходимо в файле `package.json` отредактировать поле `homepage`, заменив
`your_username` и `your_repo_name` на свои, и отправить изменения на GitHub.

```json
"homepage": "https://your_username.github.io/your_repo_name/"
```

Далее необходимо зайти в настройки GitHub-репозитория (`Settings` > `Pages`) и
выставить раздачу продакшн версии файлов из папки `/root` ветки `gh-pages`, если
это небыло сделано автоматически.

![GitHub Pages settings](./assets/repo-settings.png)

### Статус деплоя

Статус деплоя крайнего коммита отображается иконкой возле его идентификатора.

- **Желтый цвет** - выполняется сборка и деплой проекта.
- **Зеленый цвет** - деплой завершился успешно.
- **Красный цвет** - во время линтинга, сборки или деплоя произошла ошибка.

Более детальную информацию о статусе можно посмотреть кликнув по иконке, и в
выпадающем окне перейти по ссылке `Details`.

![Deployment status](./assets/status.png)

### Живая страница

Через какое-то время, обычно пару минут, живую страницу можно будет посмотреть
по адресу указанному в отредактированном свойстве `homepage`. Например, вот
ссылка на живую версию для этого репозитория
[https://goitacademy.github.io/react-homework-template](https://goitacademy.github.io/react-homework-template).

Если открывается пустая страница, убедись что во вкладке `Console` нет ошибок
связанных с неправильными путями к CSS и JS файлам проекта (**404**). Скорее
всего у тебя неправильное значение свойства `homepage` в файле `package.json`.

### Маршрутизация

Если приложение использует библиотеку `react-router-dom` для маршрутизации,
необходимо дополнительно настроить компонент `<BrowserRouter>`, передав в пропе
`basename` точное название твоего репозитория. Слеши в начале и конце строки
обязательны.

```jsx
<BrowserRouter basename="/your_repo_name/">
  <App />
</BrowserRouter>
```

## Как это работает

![How it works](./assets/how-it-works.png)

1. После каждого пуша в ветку `main` GitHub-репозитория, запускается специальный
   скрипт (GitHub Action) из файла `.github/workflows/deploy.yml`.
2. Все файлы репозитория копируются на сервер, где проект инициализируется и
   проходит линтинг и сборку перед деплоем.
3. Если все шаги прошли успешно, собранная продакшн версия файлов проекта
   отправляется в ветку `gh-pages`. В противном случае, в логе выполнения
   скрипта будет указано в чем проблема.

---

1. Формы. КОНТРОЛИРУЕМЫЙ элемент. Значение каждого элемента формы хранится в
   state. Чтобы обновить кусочек стейта, нужен метод. При каждом вводе в инпут
   вызывается метод, который обновляет state. Как только обновляется стейт,
   перерендеривается инпут.

2. Связь с инпутом осуществляется через его атрибут (пропс) value

3. Регистратор события onChange сочетает в себе функционал обработчиков события
   Input и Blur, которые использовались в JS

4. В onChange мы добавляем метод, который будет обновлять инпут.

5. Обработчики события изменения инпута на Имени и Номере работают абсолютно
   одинаково. Поэтому мы можем переиспользовать один обработчик. Для этого у
   каждого инпута должен быть уникальный name, значение которого обязательно
   должно совпадать с ключами в state.

6. const a='ghgh';

[a]: 5

{ ghgh:5 }

7. Сабмит формы осуществляется по регистратору события на форме onSubmit. В него
   мы добавляем отдельный метод обработки события, не забываем вызвать
   event.preventDefault(), чтобы страничка не перезагрузилась.

8. Лучше, чтобы форма была отдельным компонентом-классом. State со свойствами
   name и number должен находиться внутри формы, - в Апп они должны попадать
   только при сабмите. State внутри формы нужен только для того, чтобы обновлять
   интерфейс, пока мы что-то набираем в инпутах - НЕ ДЛЯ САБМИТА!

9. Теперь нужно в Аппе получать доступ к Стейту формы. Это можно сделать через
   пропы. Сама форма только контролирует свои элементы. А когда она уже
   сабмитится, то отдаёт данные наверх через проп onSubmit (это не то же самое,
   что одноименный регистратор события!!). Аппу нужны только финальные данные
   сабмита формы. Реализуется поднятие состояния.

10. Для связывания лейбла и инпута используем динамически сгенерированные айди
    (библиотека)

11. State фильтра логичнее хранить в Апп, отдельно от самого компонета
